<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°å—é¨å£«åƒä»€éº¼ï¼Ÿ - æˆå¤§ç¾é£Ÿéš¨æ©Ÿç”¢ç”Ÿå™¨</title>
    
    <!-- å¼•å…¥ React å’Œ Babel (è®“ç€è¦½å™¨çœ‹æ‡‚ React) -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- å¼•å…¥ Tailwind CSS (ç¾åŒ–æ¨£å¼) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        body { font-family: "Microsoft JhengHei", "Heiti TC", sans-serif; }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="bg-slate-50">

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- åœ–ç¤ºçµ„ä»¶ (å› ç‚ºæ²’æœ‰ npmï¼Œæˆ‘å€‘ç›´æ¥å¯« SVG) ---
        const Icon = ({ path, size = 20, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {path}
            </svg>
        );

        const Icons = {
            MapPin: (props) => <Icon {...props} path={<><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></>} />,
            Utensils: (props) => <Icon {...props} path={<><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></>} />,
            Clock: (props) => <Icon {...props} path={<><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></>} />,
            DollarSign: (props) => <Icon {...props} path={<><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></>} />,
            RefreshCw: (props) => <Icon {...props} path={<><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></>} />,
            Navigation: (props) => <Icon {...props} path={<polygon points="3 11 22 2 13 21 11 13 3 11"/>} />,
            Search: (props) => <Icon {...props} path={<><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></>} />,
            Bike: (props) => <Icon {...props} path={<><circle cx="18.5" cy="17.5" r="3.5"/><circle cx="5.5" cy="17.5" r="3.5"/><circle cx="15" cy="5" r="1"/><path d="M12 17.5V14l-3-3 4-3 2 3h2"/></>} />,
            Footprints: (props) => <Icon {...props} path={<><path d="M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 11 3.8 11 8c0 2.85-1.67 5.14-4 5.38L4 16Z"/><path d="M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 13 7.8 13 12c0 2.85 1.67 5.14 4 5.38L20 20Z"/></>} />,
            Plus: (props) => <Icon {...props} path={<><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></>} />,
            X: (props) => <Icon {...props} path={<><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></>} />,
            Check: (props) => <Icon {...props} path={<polyline points="20 6 9 17 4 12"/>} />,
        };

        // --- å®Œæ•´è³‡æ–™åº« ---
        const INITIAL_RESTAURANTS_DATA = [
            { id: 601, name: "è˜èŠé¦™æ»·å‘³", cuisine: "luwei", price: "low", meals: ["lunch", "dinner", "latenight"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "æˆå¤§ç”Ÿå¿…åƒï¼Œç‰¹è£½é†¬æ±èˆ‡è¾£æ¤’éå¸¸å¤ å‘³" },
            { id: 602, name: "ç››ç”°æ»·å‘³", cuisine: "luwei", price: "low", meals: ["dinner", "latenight"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "é£Ÿæé¸æ“‡å¤šï¼Œç’°å¢ƒç›¸å°ä¹¾æ·¨çš„æ»·å‘³åº—" },
            { id: 603, name: "ä¸¹ç“¦æ¨“", cuisine: "luwei", price: "mid", meals: ["lunch", "dinner"], location: "å‹åˆ©è·¯", distance: "near", desc: "æœ‰å†·æ°£åº§ä½èˆ’æœï¼Œæ¹¯é ­é †å£çš„ç²¾ç·»æ»·å‘³" },
            { id: 604, name: "åºœåŸæ»·å‘³", cuisine: "luwei", price: "low", meals: ["dinner", "latenight"], location: "æ±å¯§è·¯", distance: "near", desc: "è€å­—è™Ÿä¹¾æ»·å‘³ï¼Œé©åˆè²·å›å®¿èˆç•¶å®µå¤œ" },
            { id: 1001, name: "ç¦ç›¸éº»è¾£å¹²é‹", cuisine: "luwei", price: "mid", meals: ["lunch", "dinner", "latenight"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "é¦™éº»éç™®çš„ä¹¾é‹ï¼Œç™½é£¯æ®ºæ‰‹" },
            { id: 1002, name: "å°èµ¤ä½¬å¹²é‹", cuisine: "luwei", price: "mid", meals: ["dinner", "latenight"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "è‚²æ¨‚è¡—æ’éšŠååº—ï¼Œåˆéº»åˆè¾£é©åˆé‡å£å‘³" },
            { id: 1003, name: "è¾£è¨£", cuisine: "luwei", price: "mid", meals: ["lunch", "dinner"], location: "æ±å¯§è·¯", distance: "near", desc: "ä¸€å€‹äººä¹Ÿèƒ½åƒçš„éº»è¾£é‹ï¼Œæ¹¯é ­æ¿ƒéƒ" },
            { id: 1004, name: "å…ƒçˆµå‘³é»ƒç‡œé›", cuisine: "luwei", price: "mid", meals: ["lunch", "dinner"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "é†¬æ±æ¿ƒéƒä¸‹é£¯ï¼Œé›è‚‰è»Ÿå«©" },
            { id: 1005, name: "å„„å“é‹", cuisine: "luwei", price: "mid", meals: ["lunch", "dinner"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "å¹³åƒ¹å°ç«é‹ï¼Œè‡ªåŠ©å§åƒåˆ°é£½" },
            { id: 1101, name: "äº”é®®ç´š", cuisine: "luwei", price: "mid", meals: ["lunch", "dinner", "latenight"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "å¤§ä»½é‡è‚‰ç›¤å¹³åƒ¹ç«é‹ï¼Œæ¹¯é ­é¸æ“‡å¤š" },
            { id: 1102, name: "å…©é¤", cuisine: "korean", price: "mid", meals: ["lunch", "dinner"], location: "ç«è»Šç«™å‰", distance: "near", desc: "éŸ“å¼å¹´ç³•ç«é‹åƒåˆ°é£½ï¼Œæœ€å¾Œä¸€å®šè¦ç‚’é£¯" },
            { id: 1103, name: "å’Œä¸‰è¾£", cuisine: "luwei", price: "low", meals: ["lunch", "dinner"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "ç‰¹è‰²éº»è¾£ä¹¾éºµèˆ‡æŠ„æ‰‹ï¼Œæ„›åƒè¾£å¿…æŒ‘æˆ°" },
            { id: 901, name: "æ¸¯è¨˜ç‡’è‡˜", cuisine: "hongkong", price: "low", meals: ["lunch", "dinner"], location: "æ±å®‰è·¯", distance: "near", desc: "ä»½é‡åè¶³çš„ç‡’è‡˜ä¾¿ç•¶ï¼Œè‚‰é£Ÿæ—æœ€æ„›" },
            { id: 101, name: "æ‰’ä¼è²³å†°å®¤", cuisine: "hongkong", price: "mid", meals: ["lunch", "dinner"], location: "ä¸­è¥¿å€(é–‹å±±è·¯)", distance: "far", desc: "å¾©å¤é¢¨è£æ½¢ï¼Œå¿…é»é»¯ç„¶éŠ·é­‚é£¯èˆ‡è è˜¿æ²¹" },
            { id: 102, name: "æ—¥è¡—å†°å®¤", cuisine: "hongkong", price: "mid", meals: ["lunch", "dinner"], location: "åŒ—å€(æ—æ£®è·¯)", distance: "near", desc: "é›¢æˆå¤§å¾ˆè¿‘ï¼Œè¥¿å¤šå£«èˆ‡æ»‘è›‹é£¯è©•åƒ¹å¾ˆé«˜" },
            { id: 103, name: "ç³–å‹’ï¼Ÿ", cuisine: "hongkong", price: "mid", meals: ["dinner", "latenight"], location: "ä¸­è¥¿å€", distance: "far", desc: "å··å¼„è£¡çš„æ·±å¤œç”œé»èˆ‡æ¸¯å¼é£²å“ï¼Œæ°£æ°›æ¥µä½³" },
            { id: 104, name: "é‘«è¯èŒ¶é¤å»³", cuisine: "hongkong", price: "mid", meals: ["lunch", "dinner"], location: "ä¸­è¥¿å€(æ²³ä¸­è¡—)", distance: "far", desc: "è€å­—è™Ÿæ¸¯å¼é¤å»³ï¼Œå£å‘³éå¸¸é“åœ°" },
            { id: 105, name: "å°é¦™æ¸¯èŒ¶é¤å»³", cuisine: "hongkong", price: "mid", meals: ["lunch", "dinner"], location: "ä¸­è¥¿å€(åº·æ¨‚è¡—)", distance: "far", desc: "å¹³åƒ¹ä¸”ä»½é‡è¶³ï¼Œé‚„æœ‰å¯æ„›çš„åº—è²“" },
            { id: 902, name: "è™æ±", cuisine: "korean", price: "mid", meals: ["lunch", "dinner"], location: "æ±å€", distance: "near", desc: "éŸ“å¼çƒ¤è‚‰èˆ‡æ–™ç†ï¼Œèšé¤å¥½é¸æ“‡" },
            { id: 201, name: "éŸ“æœ", cuisine: "korean", price: "mid", meals: ["lunch", "dinner"], location: "æ±å€(æ±å¯§è·¯)", distance: "near", desc: "æˆå¤§å­¸ç”Ÿèšé¤é¦–é¸ï¼Œå°èœåƒåˆ°é£½ CP å€¼é«˜" },
            { id: 202, name: "è±¬å°æœ‰ç‡’çƒ¤åƒåˆ°é£½", cuisine: "korean", price: "mid", meals: ["lunch", "dinner"], location: "ä¸­è¥¿å€(æ°¸è¯è·¯)", distance: "far", desc: "å¹³åƒ¹éŸ“å¼çƒ¤è‚‰åƒåˆ°é£½ï¼Œè‚‰é£Ÿä¸»ç¾©è€…å¿…å»" },
            { id: 203, name: "æ­å·´éŸ“å¼ç‚¸é›", cuisine: "korean", price: "low", meals: ["dinner", "latenight"], location: "å—å€/ä¸­è¥¿å€", distance: "far", desc: "é“åœ°æ´‹é‡€èˆ‡ç”œè¾£å£å‘³ï¼Œé©åˆå¤–å¸¶å›å®¶é…åŠ‡" },
            { id: 204, name: "å¤§éŸ“åé‹", cuisine: "korean", price: "mid", meals: ["lunch", "dinner"], location: "æ±å€", distance: "near", desc: "æ¹¯é ­æ¿ƒéƒçš„æ³¡èœé‹èˆ‡çŸ³é‹æ‹Œé£¯" },
            { id: 925, name: "ç…¦æ‚…ä¾¿ç•¶", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "é…èœè±å¯Œä¸”ä¸æ²¹è†©ï¼Œå­¸ç”Ÿä¾¿ç•¶å¥½é¸æ“‡" },
            { id: 1006, name: "ç¦¾å“éµæ¿ç‡’", cuisine: "taiwanese", price: "mid", meals: ["lunch", "dinner"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "ç¾ç‚’éµæ¿ç‡’ï¼Œç™½é£¯æ¹¯å“åƒåˆ°é£½" },
            { id: 1104, name: "æ—¥éŸéµæ¿ç‡’", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "è‚²æ¨‚è¡—å¹³åƒ¹éµæ¿ç‡’ï¼Œç™½é£¯é£²æ–™ç„¡é™" },
            { id: 1105, name: "å€†äººé‹éŸ", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "å­¸ç”Ÿç†±æ„›çš„éµæ¿æ–™ç†ï¼Œå£å‘³åé‡ä¸‹é£¯" },
            { id: 1106, name: "ä¾¿ç•¶ç¿”", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "ä¸»èœé¸æ“‡å¤šï¼Œé…èœå®¶å¸¸çš„ç†±é–€ä¾¿ç•¶åº—" },
            { id: 1107, name: "Walking Su", cuisine: "taiwanese", price: "low", meals: ["dinner", "latenight"], location: "åŒ—å€/æ±å€", distance: "far", desc: "è¶…äººæ°£è—¥è†³éº»æ²¹é›ï¼Œæ¹¯é ­ç”˜ç”œï¼Œå†¬å¤©å¿…æ’" },
            { id: 1108, name: "é “è™Ÿ", cuisine: "taiwanese", price: "mid", meals: ["lunch", "dinner"], location: "åŒ—å€", distance: "far", desc: "è€å®…æ”¹å»ºçš„æ–‡é’åº—ï¼Œæ°´é¤ƒè·Ÿéºµé£Ÿå¾ˆç²¾ç·»" },
            { id: 1007, name: "é€™é‹é£¯æœ‰é»å¼·", cuisine: "taiwanese", price: "mid", meals: ["lunch", "dinner"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "ç‰¹è‰²é‹ç‡’èˆ‡ä¸¼é£¯ï¼Œå£å‘³ç¨ç‰¹" },
            { id: 1008, name: "å°è£•æ¨‚", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "åœ¨åœ°å­¸ç”Ÿçš„å£è¢‹åå–®" },
            { id: 903, name: "å°å¦ç‚’é£¯", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "è‚²æ¨‚è¡—é«˜äººæ°£ï¼Œç‚’é£¯å£å‘³é¸æ“‡å¤š" },
            { id: 904, name: "é¾è¨˜æ°´é¤ƒä¹‹å®¶", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner"], location: "å‹åˆ©è·¯", distance: "near", desc: "æ‰‹å·¥æ°´é¤ƒï¼Œçš®Qé¤¡å¤š" },
            { id: 905, name: "é‡‘é›ç‹é¹¹é…¥é›", cuisine: "taiwanese", price: "low", meals: ["dinner", "latenight"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "å®µå¤œé‚ªæƒ¡é¦–é¸ï¼Œç‚¸ç‰©ç¨®é¡è±å¯Œ" },
            { id: 906, name: "åº·èˆå¹³åƒ¹æ–™ç†", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "å­¸ç”Ÿæœ€æ„›çš„å¹³åƒ¹ä¾¿ç•¶ç°¡é¤" },
            { id: 907, name: "é¤“äº†", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner", "latenight"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "éš¨æ™‚è‚šå­é¤“çš„å¥½æœ‹å‹" },
            { id: 908, name: "é£Ÿç¥å»£æ±ç²¥", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner", "latenight"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "æš–èƒƒé¦–é¸ï¼Œç²¥å“é¸æ“‡å¤š" },
            { id: 909, name: "æ‰ä¸Šé‹ç‡’", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "æ¹¯é ­é®®ç”œçš„é‹ç‡’æ„éºµ" },
            { id: 910, name: "ç”·å“¥ç…®éºµ", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "ç‰¹è‰²éºµé£Ÿï¼Œä¹¾éºµæ§å¿…è©¦" },
            { id: 911, name: "ç¬¬äºŒç¢—é‹ç‡’æ„éºµ", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "åƒå®Œä¸€ç¢—é‚„æƒ³åƒç¬¬äºŒç¢—çš„é‹ç‡’" },
            { id: 912, name: "è¬å®¢æ¨“", cuisine: "taiwanese", price: "mid", meals: ["lunch", "dinner"], location: "æ±å¯§è·¯", distance: "near", desc: "é®®è¦æ°´é¤ƒã€ç‰›è‚‰æ²é¤…èˆ‡è±†æ¼¿ç„¡é™æš¢é£²" },
            { id: 913, name: "è¬ç´…åˆ€å‰Šéºµ", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner"], location: "é–‹å…ƒè·¯", distance: "near", desc: "å£æ„ŸQå½ˆçš„åˆ€å‰Šéºµèˆ‡ç‰›è‚‰éºµ" },
            { id: 914, name: "å‹è«‹äº«ç”¨", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "ç‰¹è‰²éµæ¿ä¾¿ç•¶ï¼Œä»½é‡åè¶³" },
            { id: 915, name: "å¾®å®µå¤œ", cuisine: "taiwanese", price: "low", meals: ["dinner", "latenight"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "å®µå¤œå ´çš„å°é»å¿ƒèˆ‡ç‚¸ç‰©" },
            { id: 916, name: "ä½ æˆ‘å®¶", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner"], location: "å‹åˆ©è·¯", distance: "near", desc: "ç¶“å…¸è€åº—ï¼Œä¹¾éºµèˆ‡æ»·å‘³æ˜¯çµ•é…" },
            { id: 917, name: "å¤œç‰²äººé€²", cuisine: "taiwanese", price: "mid", meals: ["dinner", "latenight"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "æ·±å¤œé£Ÿå ‚ï¼Œé©åˆå¤œè²“å­" },
            { id: 918, name: "å¥½æ˜¥éºµé£²", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner"], location: "é•·æ¦®è·¯", distance: "near", desc: "æ–‡é’é¢¨éºµåº—ï¼Œç’°å¢ƒèˆ’é©" },
            { id: 919, name: "è‘‰æ˜è‡´éºµèˆ–", cuisine: "taiwanese", price: "mid", meals: ["lunch", "dinner"], location: "é’å¹´è·¯", distance: "far", desc: "è£æ½¢å¾ˆæœ‰è³ªæ„Ÿçš„æ„éºµåº—" },
            { id: 920, name: "å‹è±å°é¤¨", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "å„å¼ç‚’é£¯ç‚’éºµï¼Œå¿«é€Ÿè§£æ±ºä¸€é¤" },
            { id: 921, name: "å”å®¶æ³¡èœé¤¨", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner"], location: "è£•è¾²è·¯", distance: "near", desc: "å¿…é»æ³¡èœç‚’é£¯èˆ‡æµ·é®®éºµ" },
            { id: 922, name: "å¤ªè±è£•ç‚’", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "é‘Šæ°£åè¶³çš„ç†±ç‚’ç°¡é¤" },
            { id: 923, name: "å‹è±éµæ¿ç‡’", cuisine: "taiwanese", price: "mid", meals: ["lunch", "dinner"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "ç¾ç‚’éµæ¿ç‡’ï¼Œç™½é£¯æ®ºæ‰‹" },
            { id: 1, name: "å°èŒ‚å±‹", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner", "latenight"], location: "é•·æ¦®è·¯", distance: "near", desc: "æˆå¤§äººçš„å›æ†¶ï¼Œé‹ç‡’æ„éºµé…ç´…èŒ¶" },
            { id: 3, name: "å‹åˆ©æ—©é»", cuisine: "taiwanese", price: "low", meals: ["dinner", "latenight"], location: "å‹åˆ©è·¯", distance: "near", desc: "è±¬è‚‰è›‹é¤…èˆ‡è±†æ¼¿ï¼Œå®µå¤œé¦–é¸" },
            { id: 4, name: "ç´…æ¨“å°é¤¨", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "å¤§ä»½é‡ç‚’é£¯ï¼Œå­¸ç”Ÿçš„æœ€æ„›" },
            { id: 305, name: "å…ƒå‘³å±‹", cuisine: "taiwanese", price: "mid", meals: ["lunch", "dinner"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "åšåˆ‡è±¬æ’å®šé£Ÿï¼Œé…èœè±å¯Œ" },
            { id: 306, name: "123ç‚’é£¯", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "å£å‘³é¸æ“‡è¶…å¤šï¼ŒåŠ é£¯ä¸ç”¨éŒ¢" },
            { id: 304, name: "ä¸¹ä¸¹æ¼¢å ¡", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner"], location: "æˆåŠŸè·¯", distance: "far", desc: "å—éƒ¨ç‰¹ç”¢ï¼Œéºµç·šç³Šé…ç‚¸é›çš„çµ•å¦™çµ„åˆ" },
            { id: 301, name: "æ–‡ç« ç‰›è‚‰æ¹¯", cuisine: "taiwanese", price: "mid", meals: ["lunch", "dinner", "latenight"], location: "å®‰å¹³å€", distance: "far", desc: "å°å—å¿…åƒï¼é¨è»Šè¡ä¸€æ³¢å®‰å¹³å–æ–°é®®ç‰›è‚‰æ¹¯" },
            { id: 302, name: "é›†å“è¦ä»é£¯", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner"], location: "ä¸­è¥¿å€(æµ·å®‰è·¯)", distance: "far", desc: "ç«ç‡’è¦ä»é£¯é…ä¸Šé´¨è›‹æ¹¯ï¼Œé“åœ°å°å—å‘³" },
            { id: 303, name: "é˜¿æ±Ÿç‚’é±”é­š", cuisine: "taiwanese", price: "mid", meals: ["dinner", "latenight"], location: "ä¸­è¥¿å€", distance: "far", desc: "é‘Šæ°£åè¶³çš„ä¹¾ç‚’é±”é­šæ„éºµï¼Œè€é¥•æœ€æ„›" },
            { id: 5, name: "å”æšé›å’–å“©", cuisine: "japanese", price: "mid", meals: ["lunch", "dinner"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "é…¥è„†å¤šæ±çš„ç‚¸é›é…ä¸Šæ¿ƒéƒå’–å“©" },
            { id: 1009, name: "é»‘ç›¤", cuisine: "japanese", price: "mid", meals: ["lunch", "dinner"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "å¹³åƒ¹å¥½åƒçš„æ­å§†è›‹å’–å“©èˆ‡ä¸¼é£¯" },
            { id: 1010, name: "æ¿±å®¶å’–å“©å±‹", cuisine: "japanese", price: "mid", meals: ["lunch", "dinner"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "æ¿ƒéƒæ—¥å¼å’–å“©ï¼Œç‚¸è±¬æ’å¾ˆæ¨è–¦" },
            { id: 1011, name: "è§’é‘„", cuisine: "japanese", price: "mid", meals: ["lunch", "dinner"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "æ—¥å¼éµæ¿æ–™ç†èˆ‡ä¸¼é£¯ï¼Œè‚‰è³ªä¸éŒ¯" },
            { id: 1109, name: "æ­å§†æ´‹é£Ÿè›‹åŒ…é£¯", cuisine: "japanese", price: "mid", meals: ["lunch", "dinner"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "æ»‘å«©è›‹åŒ…é£¯é…ä¸Šç‰¹è‰²é†¬æ±" },
            { id: 1110, name: "ç¦å‹äº­", cuisine: "japanese", price: "mid", meals: ["lunch", "dinner"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "é€£é–æ—¥å¼è±¬æ’ï¼Œç™½é£¯å‘³å™Œæ¹¯åƒåˆ°é£½" },
            { id: 1111, name: "äº®å®¶", cuisine: "japanese", price: "low", meals: ["lunch", "dinner"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "è‚²æ¨‚è¡—å¹³åƒ¹æ‹‰éºµèˆ‡è“‹é£¯" },
            { id: 1112, name: "æ«»ä¹‹åº­", cuisine: "japanese", price: "low", meals: ["lunch", "dinner"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "å­¸ç”Ÿæœ€æ„›çš„é«˜CPå€¼æ—¥å¼ç°¡é¤" },
            { id: 1113, name: "è—å£½å¸", cuisine: "japanese", price: "mid", meals: ["lunch", "dinner"], location: "å—ç´¡/Focus", distance: "far", desc: "åƒå£½å¸é‚„èƒ½æŠ½æ‰­è›‹ï¼Œèšé¤æœ‰è¶£é¸æ“‡" },
            { id: 1114, name: "å£½å¸éƒ", cuisine: "japanese", price: "mid", meals: ["lunch", "dinner"], location: "å—ç´¡/å®‰å¹³", distance: "far", desc: "ä¾†è‡ªå¤§é˜ªçš„è¿´è½‰å£½å¸ï¼Œé£Ÿææ–°é®®" },
            { id: 1115, name: "ä¸‰èˆ¹çš„é°»ä¸¼", cuisine: "japanese", price: "mid", meals: ["lunch", "dinner"], location: "æ±å€", distance: "far", desc: "åƒ¹æ ¼è¦ªæ°‘çš„é°»é­šé£¯ï¼Œå£å‘³ä¸éŒ¯" },
            { id: 1116, name: "éºµå®¶å®‡å‘³", cuisine: "japanese", price: "mid", meals: ["lunch", "dinner"], location: "ä¸­è¥¿å€", distance: "far", desc: "æ¿ƒéƒç³»è±šéª¨æ‹‰éºµï¼Œå‰ç‡’è»Ÿå«©" },
            { id: 1117, name: "å¾æ—¬æ‹‰éºµ", cuisine: "japanese", price: "mid", meals: ["lunch", "dinner"], location: "æ±å€", distance: "near", desc: "æ¸…çˆ½ç³»é›ç™½æ¹¯æ‹‰éºµ" },
            { id: 1118, name: "æ´„æ¸¸ä¸¼é£¯æ‰€", cuisine: "japanese", price: "mid", meals: ["lunch", "dinner"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "é£Ÿæè±å¯Œçš„ç”Ÿé­šç‰‡ä¸¼é£¯" },
            { id: 6, name: "é‡å´å®¶", cuisine: "japanese", price: "mid", meals: ["lunch", "dinner"], location: "å¤§å­¸è·¯", distance: "near", desc: "é“åœ°æ©«æ¿±å®¶ç³»æ‹‰éºµï¼Œæ¹¯é ­æ¿ƒéƒ" },
            { id: 20, name: "äº•é¸æ—¥å¼å®šé£Ÿ", cuisine: "japanese", price: "mid", meals: ["lunch", "dinner"], location: "å¤§å­¸è·¯18å··", distance: "near", desc: "ç²¾ç·»æ—¥å¼å®¶åº­æ–™ç†ï¼Œç’°å¢ƒèˆ’é©" },
            { id: 401, name: "é°»ä¸¼ä½œ", cuisine: "japanese", price: "high", meals: ["lunch", "dinner"], location: "ä¸­è¥¿å€", distance: "far", desc: "éš±èº«å··å¼„çš„ç‚­çƒ¤é°»é­šé£¯ï¼Œå€¼å¾—å°ˆç¨‹é¨è»Šå»" },
            { id: 1119, name: "å­«æ±å¯¶", cuisine: "western", price: "mid", meals: ["lunch", "dinner"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "å°å¼ç‰›æ’æ•™çˆ¶ï¼Œç‰ç±³æ¿ƒæ¹¯å¥½å–" },
            { id: 1120, name: "é€æ—¥", cuisine: "western", price: "mid", meals: ["lunch", "dinner"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "è³ªæ„Ÿä¸éŒ¯çš„å¹³åƒ¹ç‰›æ’é¤¨" },
            { id: 1012, name: "çš®åš“å…ˆç”Ÿ", cuisine: "italian", price: "mid", meals: ["lunch", "dinner"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "ç¾çƒ¤æ‰‹å·¥æŠ«è–©ï¼Œå£å‘³é¸æ“‡å¤š" },
            { id: 1013, name: "è’™é “ç¾©æ³•å°é¤¨", cuisine: "italian", price: "high", meals: ["lunch", "dinner"], location: "æ±å€", distance: "far", desc: "æ°£æ°›ä½³çš„ç¾©æ³•æ–™ç†ï¼Œé©åˆç´„æœƒæ…¶ç”Ÿ" },
            { id: 924, name: "æ¨‚ç†ŠPasta", cuisine: "italian", price: "low", meals: ["lunch", "dinner"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "å¹³åƒ¹ç¾©å¤§åˆ©éºµï¼Œå­¸ç”Ÿèšé¤å¥½å»è™•" },
            { id: 8, name: "è½‰è§’é¤å»³", cuisine: "western", price: "high", meals: ["lunch", "dinner"], location: "å¤§å­¸è·¯22å··", distance: "near", desc: "ç¶“å…¸æ’é¤èˆ‡é¾è¦ï¼Œç´„æœƒé¦–é¸" },
            { id: 9, name: "åº«è‚¯èŠ±åœ’", cuisine: "italian", price: "mid", meals: ["lunch", "dinner"], location: "å¤§å­¸è·¯22å··", distance: "near", desc: "é«˜CPå€¼ç¾©å¤§åˆ©éºµèˆ‡ç‡‰é£¯" },
            { id: 21, name: "X Dining", cuisine: "italian", price: "high", meals: ["lunch", "dinner"], location: "å¤§å­¸è·¯22å··", distance: "near", desc: "ç´„æœƒæ°£æ°›ä½³ï¼Œç²¾ç·»ç¾©æ³•æ–™ç†" },
            { id: 501, name: "åƒéºµå§ Jai Mi Ba", cuisine: "western", price: "mid", meals: ["lunch", "dinner"], location: "ä¸­è¥¿å€", distance: "far", desc: "çµåˆå°å¼å…ƒç´ çš„å‰µæ„è¥¿å¼éºµé£Ÿï¼Œéå¸¸æœ‰ç‰¹è‰²" },
            { id: 503, name: "Double Cheese", cuisine: "italian", price: "mid", meals: ["lunch", "dinner"], location: "é•·æ¦®è·¯", distance: "near", desc: "æŠ«è–©ç‚¸é›åƒåˆ°é£½ï¼Œç³»éšŠèšé¤é¦–é¸" },
            { id: 1121, name: "æœ‰æ³°æ‹œä¸‰", cuisine: "thai", price: "mid", meals: ["lunch", "dinner"], location: "æ±å€", distance: "near", desc: "é“åœ°æ³°å¼è¡—é ­å°åƒï¼Œæ‰“æ‹‹è±¬å¾ˆæ¨" },
            { id: 1122, name: "æ³°å…¸", cuisine: "thai", price: "mid", meals: ["lunch", "dinner"], location: "æ±å€", distance: "near", desc: "ç’°å¢ƒèˆ’é©çš„æ³°å¼ç°¡é¤åº—" },
            { id: 1123, name: "å©†å©†æ²³ç²‰", cuisine: "thai", price: "low", meals: ["lunch", "dinner"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "è‚²æ¨‚è¡—é«˜CPå€¼è¶Šå—æ–™ç†ï¼Œä»½é‡å¤§" },
            { id: 1014, name: "å°æ³°é£½", cuisine: "thai", price: "low", meals: ["lunch", "dinner"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "ä¸€äººä»½çš„æ³°å¼å®šé£Ÿï¼Œå¹³åƒ¹ç¾å‘³" },
            { id: 1015, name: "éµç“¦æ³°å¼æ–™ç†", cuisine: "thai", price: "mid", meals: ["lunch", "dinner"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "å£å‘³é“åœ°çš„æ³°å¼æ–™ç†ï¼Œæœˆäº®è¦é¤…å¿…é»" },
            { id: 1016, name: "Bitch Fry Fry", cuisine: "thai", price: "mid", meals: ["dinner", "latenight"], location: "é•·æ¦®è·¯/æ±å€", distance: "near", desc: "å¿…é»æ‰“æ‹‹è±¬é£¯èˆ‡ç”œç”œåœˆï¼Œå®µå¤œå ´äººæ°£åº—" },
            { id: 926, name: "ç ‚èˆŸæµ·å—é›é£¯", cuisine: "thai", price: "mid", meals: ["lunch", "dinner"], location: "æ±å¯§è·¯", distance: "near", desc: "å»éª¨è»Ÿå«©çš„æµ·å—é›é£¯ï¼Œæ²¾é†¬å¾ˆå²å®³" },
            { id: 927, name: "æ˜å›è¶Šå—æ²³ç²‰", cuisine: "thai", price: "low", meals: ["lunch", "dinner"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "å¹³åƒ¹é“åœ°çš„è¶Šå—å°åƒ" },
            { id: 11, name: "çå¦®èŠ±èˆ‡å—æ´‹æ‰", cuisine: "thai", price: "mid", meals: ["lunch", "dinner"], location: "å‹åˆ©è·¯", distance: "near", desc: "å¹³åƒ¹å¥½åƒçš„æ³°å¼ç¶ å’–å“©èˆ‡æ‰“æ‹‹è±¬" },
            { id: 13, name: "é´»å…¬å…¬è¶Šå—æ²³ç²‰", cuisine: "thai", price: "mid", meals: ["lunch", "dinner"], location: "å—å€", distance: "far", desc: "é¨è»Šç´„15åˆ†ï¼Œé…¸æ¹¯é ­ä¸€çµ•ï¼Œç”Ÿæ„æ¥µå¥½" },
            { id: 928, name: "è‰¯è¾°å‰æ™‚æ—©é¤", cuisine: "brunch", price: "low", meals: ["lunch", "brunch"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "é–‹å•Ÿç¾å¥½ä¸€å¤©çš„äººæ°£æ—©é¤åº—" },
            { id: 929, name: "æ™¨é–“å»šæˆ¿", cuisine: "brunch", price: "low", meals: ["lunch", "brunch"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "é€£é–æ—©é¤ï¼Œå£å‘³ç©©å®šé¸æ“‡å¤š" },
            { id: 930, name: "å®œè¯è›‹é¤…", cuisine: "brunch", price: "low", meals: ["lunch", "brunch"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "æ‰‹å·¥ç²‰æ¼¿è›‹é¤…ï¼Œå£æ„Ÿè»ŸQ" },
            { id: 931, name: "æ—©å®‰å±±ä¸˜", cuisine: "brunch", price: "low", meals: ["lunch", "brunch"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "æ—©åˆé¤çš„å¥½é¸æ“‡ï¼Œç’°å¢ƒèˆ’é©" },
            { id: 932, name: "å°é‚æ™‚å…‰", cuisine: "brunch", price: "mid", meals: ["lunch", "brunch"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "è³ªæ„Ÿæ—©åˆé¤ï¼Œé©åˆæ‚ é–’ç”¨é¤" },
            { id: 933, name: "å’•åš•å«åœŸå¸", cuisine: "brunch", price: "low", meals: ["dinner", "latenight"], location: "æˆå¤§å‘¨é‚Š", distance: "near", desc: "å®µå¤œå ´çš„ç†±å£“åå¸èˆ‡è›‹é¤…" },
            { id: 15, name: "A-One å¥åº·é¤ç›’", cuisine: "healthy", price: "mid", meals: ["lunch", "dinner"], location: "è‚²æ¨‚è¡—", distance: "near", desc: "æ°´ç…®é›èƒ¸è‚‰èˆ‡ç´«ç±³é£¯" },
            { id: 24, name: "æ³¢å“¥èŒ¶é£²", cuisine: "brunch", price: "low", meals: ["lunch", "dinner", "latenight"], location: "å‹åˆ©è·¯", distance: "near", desc: "ç¶œåˆæ–°å‘³èˆ‡ç‚’æ³¡éºµï¼Œæˆå¤§äººçš„å®¢å»³" },
            { id: 801, name: "æ‡·èˆŠå°æ£§", cuisine: "taiwanese", price: "low", meals: ["lunch", "dinner"], location: "äº”å¦ƒè¡—", distance: "far", desc: "æˆå¤§ç”Ÿå¿…åƒçš„æä»è±†è…å†°" },
        ];

        const FilterButton = ({ active, onClick, label, icon: IconComponent }) => (
            <button
                onClick={onClick}
                className={`flex items-center justify-center gap-1 px-2 py-2 rounded-lg text-sm font-medium transition-all duration-200 border ${
                active
                    ? 'bg-orange-500 text-white border-orange-500 shadow-md transform scale-105'
                    : 'bg-white text-gray-600 border-gray-200 hover:bg-orange-50 hover:border-orange-200'
                }`}
            >
                {IconComponent && <IconComponent size={14} />}
                {label}
            </button>
        );

        function NCKUFoodRandomizer() {
            const [restaurants, setRestaurants] = useState(INITIAL_RESTAURANTS_DATA);
            const [filters, setFilters] = useState({
                cuisine: 'all',
                price: 'all',
                meal: 'all',
                distance: 'all', 
            });
            const [result, setResult] = useState(null);
            const [isAnimating, setIsAnimating] = useState(false);
            const [displayRestaurant, setDisplayRestaurant] = useState(null);
            const [errorMsg, setErrorMsg] = useState('');

            // æ–°å¢åº—å®¶ç›¸é—œ State
            const [showAddForm, setShowAddForm] = useState(false);
            const [newRestaurant, setNewRestaurant] = useState({
                name: '',
                cuisine: 'taiwanese',
                price: 'low',
                distance: 'near',
            });
            const [addSuccessMsg, setAddSuccessMsg] = useState('');

            // å–å¾—ç•¶å‰æ™‚æ®µ (é è¨­é¸å–)
            useEffect(() => {
                const hour = new Date().getHours();
                let currentMeal = 'lunch';
                if (hour >= 14 && hour < 20) currentMeal = 'dinner';
                else if (hour >= 20 || hour < 5) currentMeal = 'latenight';
                if (hour >= 5 && hour < 11) currentMeal = 'brunch';
                
                setFilters(prev => ({ ...prev, meal: currentMeal }));
            }, []);

            const getFilteredRestaurants = () => {
                return restaurants.filter(r => {
                const matchCuisine = filters.cuisine === 'all' || r.cuisine === filters.cuisine;
                const matchPrice = filters.price === 'all' || r.price === filters.price;
                const matchDistance = filters.distance === 'all' || r.distance === filters.distance;
                const matchMeal = filters.meal === 'all' || r.meals.includes(filters.meal);
                
                return matchCuisine && matchPrice && matchMeal && matchDistance;
                });
            };

            const handleRandomize = () => {
                const candidates = getFilteredRestaurants();
                
                if (candidates.length === 0) {
                setErrorMsg('æ‰¾ä¸åˆ°ç¬¦åˆæ¢ä»¶çš„é¤å»³ï¼Œè«‹è©¦è‘—æ”¾å¯¬æ¢ä»¶ï¼Œæˆ–æ˜¯ã€Œæ–°å¢è‡ªè¨‚åº—å®¶ã€ï¼');
                setResult(null);
                setDisplayRestaurant(null);
                return;
                }

                setErrorMsg('');
                setIsAnimating(true);
                setResult(null);

                // å‹•ç•«æ•ˆæœ
                let count = 0;
                const maxCount = 20; 
                const interval = setInterval(() => {
                const randomTemp = candidates[Math.floor(Math.random() * candidates.length)];
                setDisplayRestaurant(randomTemp);
                count++;

                if (count > maxCount) {
                    clearInterval(interval);
                    const finalChoice = candidates[Math.floor(Math.random() * candidates.length)];
                    setResult(finalChoice);
                    setDisplayRestaurant(finalChoice);
                    setIsAnimating(false);
                }
                }, 100);
            };

            const handleAddRestaurant = () => {
                if (!newRestaurant.name.trim()) {
                alert("è«‹è¼¸å…¥é¤å»³åç¨±ï¼");
                return;
                }

                const newItem = {
                id: Date.now(),
                name: newRestaurant.name,
                cuisine: newRestaurant.cuisine,
                price: newRestaurant.price,
                distance: newRestaurant.distance,
                meals: ["lunch", "dinner"],
                location: "è‡ªè¨‚åº—å®¶", 
                desc: "é€™æ˜¯ä½ æ¨è–¦çš„éš±è—ç¾é£Ÿï¼"
                };

                setRestaurants([...restaurants, newItem]);
                setNewRestaurant({ name: '', cuisine: 'taiwanese', price: 'low', distance: 'near' });
                setShowAddForm(false);
                setAddSuccessMsg(`æˆåŠŸæ–°å¢ã€Œ${newItem.name}ã€ï¼`);
                setTimeout(() => setAddSuccessMsg(''), 3000);
            };

            const handleGoogleSearch = () => {
                let query = "å°å—ç¾é£Ÿ"; 
                if (filters.distance === 'near') query = "æˆå¤§é™„è¿‘ç¾é£Ÿ";

                if (filters.cuisine !== 'all') {
                const cuisineMap = {
                    'taiwanese': 'å°åƒ',
                    'luwei': 'æ»·å‘³',
                    'japanese': 'æ—¥å¼æ–™ç†',
                    'italian': 'ç¾©å¼æ–™ç†',
                    'western': 'è¥¿å¼é¤å»³',
                    'thai': 'æ³°å¼æ–™ç†',
                    'hongkong': 'æ¸¯å¼èŒ¶é¤å»³',
                    'korean': 'éŸ“å¼æ–™ç†',
                    'brunch': 'æ—©åˆé¤',
                    'healthy': 'å¥åº·é¤ç›’'
                };
                query += ` ${cuisineMap[filters.cuisine]}`;
                }

                if (filters.price === 'low') query += " å¹³åƒ¹";
                if (filters.price === 'high') query += " é«˜ç´š";
                
                if (filters.meal === 'latenight') query += " å®µå¤œ";
                else if (filters.meal === 'brunch') query += " æ—©åˆé¤";

                window.open(`https://www.google.com/maps/search/${encodeURIComponent(query)}`, '_blank');
            };

            const getPriceLabel = (price) => {
                switch(price) {
                case 'low': return 'éŠ…æ¿åƒ¹ ($)';
                case 'mid': return 'ä¸­åƒ¹ä½ ($$)';
                case 'high': return 'èšé¤ ($$$)';
                default: return '';
                }
            };

            const getCuisineLabel = (cuisine) => {
                const map = {
                'taiwanese': 'å°å¼/å°åƒ',
                'luwei': 'æ»·å‘³/ç«é‹',
                'japanese': 'æ—¥å¼',
                'italian': 'ç¾©å¼',
                'western': 'è¥¿å¼/æ’é¤',
                'thai': 'æ³°å¼/å—æ´‹',
                'hongkong': 'æ¸¯å¼',
                'korean': 'éŸ“å¼',
                'brunch': 'æ—©åˆé¤',
                'healthy': 'å¥åº·é¤'
                };
                return map[cuisine] || cuisine;
            };

            return (
                <div className="min-h-screen bg-slate-50 flex flex-col items-center py-8 px-4 font-sans text-slate-800">
                
                {/* æ¨™é¡Œå€ */}
                <header className="mb-8 text-center">
                    <div className="inline-flex items-center justify-center p-3 bg-orange-100 rounded-full mb-3">
                    <Icons.Bike className="text-orange-600" size={32} />
                    </div>
                    <h1 className="text-3xl font-bold text-slate-900 mb-2">å°å—é¨å£«åƒä»€éº¼ï¼Ÿ</h1>
                    <p className="text-slate-500">æˆå¤§å‡ºç™¼ â€¢ éš¨æ©Ÿç¾é£ŸæŒ‡å—</p>
                </header>

                <div className="w-full max-w-md bg-white rounded-2xl shadow-xl overflow-hidden border border-slate-100 mb-6">
                    
                    {/* ç¯©é¸å€ */}
                    <div className="p-6 space-y-6">
                    
                    {/* è·é›¢é¸æ“‡ */}
                    <div className="space-y-2">
                        <div className="flex items-center gap-2 text-sm font-semibold text-slate-700">
                        <Icons.MapPin size={16} /> è·é›¢ç¯„åœ
                        </div>
                        <div className="flex gap-2">
                        <FilterButton active={filters.distance === 'all'} onClick={() => setFilters({...filters, distance: 'all'})} label="ä¸é™" />
                        <FilterButton active={filters.distance === 'near'} onClick={() => setFilters({...filters, distance: 'near'})} label="èµ°è·¯ (æ ¡å€)" icon={Icons.Footprints} />
                        <FilterButton active={filters.distance === 'far'} onClick={() => setFilters({...filters, distance: 'far'})} label="é¨è»Š (å¸‚å€)" icon={Icons.Bike} />
                        </div>
                    </div>

                    {/* æ™‚æ®µé¸æ“‡ */}
                    <div className="space-y-2">
                        <div className="flex items-center gap-2 text-sm font-semibold text-slate-700">
                        <Icons.Clock size={16} /> ç”¨é¤æ™‚æ®µ
                        </div>
                        <div className="flex flex-wrap gap-2">
                        <FilterButton active={filters.meal === 'all'} onClick={() => setFilters({...filters, meal: 'all'})} label="ä¸é™" />
                        <FilterButton active={filters.meal === 'brunch'} onClick={() => setFilters({...filters, meal: 'brunch'})} label="æ—©é¤" />
                        <FilterButton active={filters.meal === 'lunch'} onClick={() => setFilters({...filters, meal: 'lunch'})} label="åˆé¤" />
                        <FilterButton active={filters.meal === 'dinner'} onClick={() => setFilters({...filters, meal: 'dinner'})} label="æ™šé¤" />
                        <FilterButton active={filters.meal === 'latenight'} onClick={() => setFilters({...filters, meal: 'latenight'})} label="å®µå¤œ" />
                        </div>
                    </div>

                    {/* åƒ¹æ ¼é¸æ“‡ */}
                    <div className="space-y-2">
                        <div className="flex items-center gap-2 text-sm font-semibold text-slate-700">
                        <Icons.DollarSign size={16} /> é ç®—ç¯„åœ
                        </div>
                        <div className="flex flex-wrap gap-2">
                        <FilterButton active={filters.price === 'all'} onClick={() => setFilters({...filters, price: 'all'})} label="ä¸é™" />
                        <FilterButton active={filters.price === 'low'} onClick={() => setFilters({...filters, price: 'low'})} label="éŠ…æ¿åƒ¹" />
                        <FilterButton active={filters.price === 'mid'} onClick={() => setFilters({...filters, price: 'mid'})} label="ä¸­åƒ¹ä½" />
                        <FilterButton active={filters.price === 'high'} onClick={() => setFilters({...filters, price: 'high'})} label="èšé¤" />
                        </div>
                    </div>

                    {/* ç¨®é¡é¸æ“‡ */}
                    <div className="space-y-2">
                        <div className="flex items-center gap-2 text-sm font-semibold text-slate-700">
                        <Icons.Utensils size={16} /> æ–™ç†é¢¨æ ¼
                        </div>
                        <div className="grid grid-cols-4 gap-2">
                        <div className="col-span-1">
                            <FilterButton active={filters.cuisine === 'all'} onClick={() => setFilters({...filters, cuisine: 'all'})} label="å…¨éƒ¨" />
                        </div>
                        <FilterButton active={filters.cuisine === 'luwei'} onClick={() => setFilters({...filters, cuisine: 'luwei'})} label="æ»·/é‹" />
                        <FilterButton active={filters.cuisine === 'taiwanese'} onClick={() => setFilters({...filters, cuisine: 'taiwanese'})} label="å°å¼" />
                        <FilterButton active={filters.cuisine === 'hongkong'} onClick={() => setFilters({...filters, cuisine: 'hongkong'})} label="æ¸¯å¼" />
                        
                        <FilterButton active={filters.cuisine === 'korean'} onClick={() => setFilters({...filters, cuisine: 'korean'})} label="éŸ“å¼" />
                        <FilterButton active={filters.cuisine === 'japanese'} onClick={() => setFilters({...filters, cuisine: 'japanese'})} label="æ—¥å¼" />
                        <FilterButton active={filters.cuisine === 'thai'} onClick={() => setFilters({...filters, cuisine: 'thai'})} label="æ³°å¼" />
                        <FilterButton active={filters.cuisine === 'italian'} onClick={() => setFilters({...filters, cuisine: 'italian'})} label="ç¾©å¼" />
                        
                        <FilterButton active={filters.cuisine === 'western'} onClick={() => setFilters({...filters, cuisine: 'western'})} label="è¥¿å¼" />
                        <FilterButton active={filters.cuisine === 'healthy'} onClick={() => setFilters({...filters, cuisine: 'healthy'})} label="å¥åº·" />
                        <div className="col-span-2">
                            <FilterButton active={filters.cuisine === 'brunch'} onClick={() => setFilters({...filters, cuisine: 'brunch'})} label="æ—©é¤/ç”œé»" />
                        </div>
                        </div>
                    </div>

                    </div>

                    {/* æŒ‰éˆ•å€ */}
                    <div className="px-6 pb-6 space-y-3">
                    <button
                        onClick={handleRandomize}
                        disabled={isAnimating}
                        className={`w-full py-4 rounded-xl text-lg font-bold text-white shadow-lg flex items-center justify-center gap-2 transition-all transform hover:scale-[1.02] active:scale-95 ${
                        isAnimating ? 'bg-orange-300 cursor-not-allowed' : 'bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600'
                        }`}
                    >
                        <Icons.RefreshCw size={24} className={isAnimating ? 'animate-spin' : ''} />
                        {isAnimating ? 'å¹«ä½ é¸æ“‡ä¸­...' : 'éš¨æ©ŸæŠ½ä¸€é–“ï¼'}
                    </button>
                    
                    <button
                        onClick={handleGoogleSearch}
                        className="w-full py-3 rounded-xl text-slate-600 bg-white border-2 border-slate-200 font-semibold flex items-center justify-center gap-2 hover:bg-slate-50 transition-colors"
                    >
                        <Icons.Search size={18} />
                        ç”¨ Google åœ°åœ–æ“´å¤§æœå°‹
                    </button>

                    {errorMsg && (
                        <div className="mt-4 p-3 bg-red-50 text-red-600 text-sm rounded-lg text-center animate-pulse">
                        {errorMsg}
                        </div>
                    )}

                    {addSuccessMsg && (
                        <div className="mt-4 p-3 bg-green-50 text-green-600 text-sm rounded-lg text-center flex items-center justify-center gap-2">
                        <Icons.Check size={16} /> {addSuccessMsg}
                        </div>
                    )}
                    </div>
                </div>

                {/* æ–°å¢åº—å®¶å€å¡Š */}
                <div className="w-full max-w-md mb-6">
                    <button 
                    onClick={() => setShowAddForm(!showAddForm)}
                    className="flex items-center justify-center gap-2 w-full text-slate-500 hover:text-orange-500 transition-colors py-2 text-sm font-medium"
                    >
                    {showAddForm ? <Icons.X size={16} /> : <Icons.Plus size={16} />}
                    {showAddForm ? 'å–æ¶ˆæ–°å¢' : 'æ²’çœ‹åˆ°æƒ³åƒçš„ï¼Ÿæ–°å¢è‡ªè¨‚åº—å®¶'}
                    </button>

                    {showAddForm && (
                    <div className="bg-white p-6 rounded-2xl shadow-lg border border-orange-100 mt-2 fade-in">
                        <h3 className="font-bold text-slate-800 mb-4 flex items-center gap-2">
                        <Icons.Utensils size={18} className="text-orange-500" /> æ–°å¢ä½ çš„å£è¢‹åå–®
                        </h3>
                        <div className="space-y-4">
                        <div>
                            <label className="block text-xs font-semibold text-slate-500 mb-1">åº—å</label>
                            <input 
                            type="text" 
                            value={newRestaurant.name}
                            onChange={(e) => setNewRestaurant({...newRestaurant, name: e.target.value})}
                            className="w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"
                            placeholder="ä¾‹å¦‚ï¼šæˆå¤§ç„¡åéºµåº—"
                            />
                        </div>
                        
                        <div className="grid grid-cols-2 gap-3">
                            <div>
                            <label className="block text-xs font-semibold text-slate-500 mb-1">é¡å‹</label>
                            <select 
                                value={newRestaurant.cuisine}
                                onChange={(e) => setNewRestaurant({...newRestaurant, cuisine: e.target.value})}
                                className="w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"
                            >
                                <option value="taiwanese">å°å¼/å°åƒ</option>
                                <option value="luwei">æ»·å‘³/ç«é‹</option>
                                <option value="japanese">æ—¥å¼</option>
                                <option value="korean">éŸ“å¼</option>
                                <option value="western">è¥¿å¼/æ’é¤</option>
                                <option value="thai">æ³°å¼/å—æ´‹</option>
                                <option value="italian">ç¾©å¼</option>
                                <option value="hongkong">æ¸¯å¼</option>
                                <option value="brunch">æ—©åˆé¤/ç”œé»</option>
                                <option value="healthy">å¥åº·é¤</option>
                            </select>
                            </div>
                            <div>
                            <label className="block text-xs font-semibold text-slate-500 mb-1">åƒ¹ä½</label>
                            <select 
                                value={newRestaurant.price}
                                onChange={(e) => setNewRestaurant({...newRestaurant, price: e.target.value})}
                                className="w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"
                            >
                                <option value="low">éŠ…æ¿åƒ¹</option>
                                <option value="mid">ä¸­åƒ¹ä½</option>
                                <option value="high">èšé¤</option>
                            </select>
                            </div>
                        </div>

                        <div>
                            <label className="block text-xs font-semibold text-slate-500 mb-1">è·é›¢</label>
                            <div className="flex gap-2">
                            <button 
                                onClick={() => setNewRestaurant({...newRestaurant, distance: 'near'})}
                                className={`flex-1 py-2 text-sm rounded-lg border ${newRestaurant.distance === 'near' ? 'bg-orange-50 border-orange-500 text-orange-700' : 'border-slate-200 text-slate-600'}`}
                            >
                                èµ°è·¯ (æ ¡å€æ—)
                            </button>
                            <button 
                                onClick={() => setNewRestaurant({...newRestaurant, distance: 'far'})}
                                className={`flex-1 py-2 text-sm rounded-lg border ${newRestaurant.distance === 'far' ? 'bg-orange-50 border-orange-500 text-orange-700' : 'border-slate-200 text-slate-600'}`}
                            >
                                é¨è»Š (å¸‚å€)
                            </button>
                            </div>
                        </div>

                        <button 
                            onClick={handleAddRestaurant}
                            className="w-full py-3 bg-slate-800 text-white rounded-xl font-bold hover:bg-slate-700 transition-colors mt-2"
                        >
                            åŠ å…¥åå–®
                        </button>
                        </div>
                    </div>
                    )}
                </div>

                {/* çµæœé¡¯ç¤ºå€ */}
                {(displayRestaurant || result) && !errorMsg && (
                    <div className={`w-full max-w-md transition-all duration-500 ${result ? 'opacity-100 translate-y-0' : 'opacity-80 translate-y-2'}`}>
                    <div className="bg-white rounded-2xl shadow-xl overflow-hidden border-2 border-orange-100 relative">
                        <div className="absolute top-0 left-0 w-full h-24 bg-gradient-to-br from-orange-50 to-orange-100 z-0"></div>
                        
                        <div className="relative z-10 p-6 text-center">
                        <div className="inline-flex items-center justify-center w-16 h-16 bg-white rounded-full shadow-md mb-4 text-3xl">
                            {result ? (filters.distance === 'far' ? 'ğŸ›µ' : 'ğŸš¶') : 'ğŸ¤”'}
                        </div>
                        
                        <h2 className="text-2xl font-bold text-slate-800 mb-1">{displayRestaurant.name}</h2>
                        <div className="flex items-center justify-center gap-2 text-slate-500 text-sm mb-4">
                            <span className="flex items-center gap-1"><Icons.MapPin size={14}/> {displayRestaurant.location}</span>
                            <span>â€¢</span>
                            <span>{getPriceLabel(displayRestaurant.price)}</span>
                            {displayRestaurant.distance === 'far' && <span className="text-xs bg-slate-100 px-1 rounded">éœ€é¨è»Š</span>}
                        </div>

                        <div className="flex justify-center gap-2 mb-6">
                            <span className="px-3 py-1 bg-orange-100 text-orange-700 text-xs font-bold rounded-full">
                            {getCuisineLabel(displayRestaurant.cuisine)}
                            </span>
                            {displayRestaurant.meals.includes('latenight') && (
                                <span className="px-3 py-1 bg-indigo-100 text-indigo-700 text-xs font-bold rounded-full">
                                å®µå¤œ
                                </span>
                            )}
                        </div>

                        <p className="text-slate-600 mb-6 italic bg-slate-50 p-3 rounded-lg">
                            "{displayRestaurant.desc}"
                        </p>

                        {result && !isAnimating && (
                            <div className="space-y-3">
                            <a 
                                href={`https://www.google.com/maps/search/${encodeURIComponent(displayRestaurant.name + ' å°å—')}`} 
                                target="_blank" 
                                rel="noreferrer"
                                className="inline-flex items-center justify-center gap-2 w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-xl transition-colors shadow-sm"
                            >
                                <Icons.Navigation size={18} />
                                {filters.distance === 'far' ? 'é¨è»Šå‡ºç™¼ (Google Maps)' : 'èµ°è·¯å»åƒ (Google Maps)'}
                            </a>
                            </div>
                        )}
                        </div>
                    </div>
                    </div>
                )}

                <footer className="mt-12 text-slate-400 text-xs text-center">
                    NCKU Food Randomizer (Expanded Edition) Â© 2025 <br/>
                    è³‡æ–™åƒ…ä¾›åƒè€ƒï¼Œå¯¦éš›ç‡Ÿæ¥­æ™‚é–“è«‹ä»¥åº—å®¶ç‚ºä¸»
                </footer>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<NCKUFoodRandomizer />);
    </script>
</body>
</html>
